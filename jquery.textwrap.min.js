(function(f){f.fn.textwrap=function(g){var a={match:"",put:"",wrap:"span",klass:"textwrap",skip:"iframe,script,style"},h=function(b){var d=0,c,e;if(b.nodeType==3&&a.match.test&&a.match.test(b.nodeValue)){if(a.put&&typeof a.put=="string"){b.nodeValue=b.nodeValue.replace(a.match,a.put);c=b.nodeValue.indexOf(a.put);e=a.put.length}else{e=b.nodeValue.match(a.match)[0];c=b.nodeValue.indexOf(e);e=e.length}if(c>=0){d=document.createElement(a.wrap);d.className=a.klass;b=b.splitText(c);b.splitText(e);d.appendChild(b.cloneNode(true));
b.parentNode.replaceChild(d,b);d=1}}else if(b.nodeType==1&&b.childNodes&&!a.skip.test(b.tagName)&&b.className.indexOf(a.klass)==-1)for(c=0;c<b.childNodes.length;++c)c+=h(b.childNodes[c]);return d};return this.each(function(){g&&f.extend(a,g);if(typeof a.skip=="string")a.skip=new RegExp("("+a.skip.split(",").join("|")+")","i");if(a.match&&typeof a.match=="string")a.match=new RegExp(a.match,"i");a.match&&h(this)})}})(jQuery);
