(function(e){e.fn.textwrap=function(g){var a={attr:"",match:"",put:"",skip:["iframe","script","style"],wrap:"span"},i=function(b){var h=0,c,d;if(b.nodeType==3&&a.match.test&&a.match.test(b.nodeValue)){if(a.put&&typeof a.put=="string"){b.nodeValue=b.nodeValue.replace(a.match,a.put);c=b.nodeValue.indexOf(a.put);d=a.put.length}else{d=b.nodeValue.match(a.match)[0];c=b.nodeValue.indexOf(d);d=d.length}if(c>=0){var f=document.createElement(a.wrap);b=b.splitText(c);b.splitText(d);f.appendChild(b.cloneNode(true));
b.parentNode.replaceChild(f,b);e.each(a.attr,function(j,k){e(f).attr(j,k)});e(f).addClass("textwrap");h=1}}else if(b.nodeType==1&&b.childNodes&&!a.skip.test(b.tagName)&&b.className.indexOf("textwrap")==-1)for(c=0;c<b.childNodes.length;++c)c+=i(b.childNodes[c]);return h};return this.each(function(){g&&e.extend(a,g);if(typeof a.skip=="object")a.skip=new RegExp("("+a.skip.join("|")+")","i");if(a.match&&typeof a.match=="string")a.match=new RegExp(a.match,"i");a.match&&i(this)})}})(jQuery);
