(function(f){f.fn.textwrap=function(g){var a={klass:"textwrap",match:"",put:"",reset:false,skip:"iframe,script,style",wrap:"span"},h=function(b){var c=0,d,e;if(b.nodeType==3&&a.match.test&&a.match.test(b.nodeValue)){if(a.put&&typeof a.put=="string"){b.nodeValue=b.nodeValue.replace(a.match,a.put);d=b.nodeValue.indexOf(a.put);e=a.put.length}else{e=b.nodeValue.match(a.match)[0];d=b.nodeValue.indexOf(e);e=e.length}if(d>=0){c=document.createElement(a.wrap);c.className=a.klass;b=b.splitText(d);b.splitText(e);
c.appendChild(b.cloneNode(true));b.parentNode.replaceChild(c,b);c=1}}else if(b.nodeType==1&&b.childNodes&&!a.skip.test(b.tagName)&&b.className.indexOf(a.klass)==-1)for(d=0;d<b.childNodes.length;++d)d+=h(b.childNodes[d]);return c},i=function(b){f("."+a.klass,b).each(function(){var c=f(this).text();c=document.createTextNode(c);this.parentNode.replaceChild(c,this)})};return this.each(function(){g&&f.extend(a,g);if(typeof a.skip=="string")a.skip=new RegExp("("+a.skip.split(",").join("|")+")","i");if(a.match&&
typeof a.match=="string")a.match=new RegExp(a.match,"i");a.reset&&f.trim(a.klass)&&i(this);a.match&&h(this)})}})(jQuery);
